<!DOCTYPE html>
<html lang="en">
    <head>  
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apple Music API Login</title>
    <script src = "https://js-cdn.music.apple.com/musickit/v1/musickit.js"></script>
    <script>document.addEventListener("musickitloaded", async function() {
        MusicKit.configure({
            developerToken: "",
            app: {
                name: "Custom Playlist Generator",
                build: "1.0.0"
            }
        });
        console.log("MusicKit JS Loaded");
    });
    
    async function authenticate_user(){
        try{
            const music = MusicKit.getInstance();
            const userToken = await music.authorize();
            console.log("Music User Token: ", userToken);
            document.getElementById("status").innerText = userToken;
        }
        catch(error){
            console.error("Error authorizing user: ", error);
        }
    }</script>
    <script defer src = "functions.js"></script>
    </head>

    <body>
        <button onclick = "authenticate_user()">Authorize Apple Music</button>
        <p id = "status"></p>

        <button onclick = "display_user_playlists()">Get 10 Playlists</button>
        <p id = "playlists"></p>

        <button onclick = "display_user_recently_played()">Get 10 Most Recently Played</button>
        <p id = "recently_played"></p>

        <!--<button onclick = "get_genre_id()">Get recommendation based on Genre</button>
        <input id = "input_genre" type="text" placeholder="Enter text here">
        <p id = "genre_recommendation"></p>-->

        <button onclick = "display_genre_dictionary()">View Genre Dictionary</button>
        <p id = "genre_dictionary"></p>
    </body>
</html>